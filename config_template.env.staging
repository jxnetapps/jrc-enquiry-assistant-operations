# Staging Environment Configuration
# Copy this to .env.staging for staging deployment

# =============================================================================
# ENVIRONMENT IDENTIFICATION
# =============================================================================
ENVIRONMENT=staging
DEBUG=false

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Database Type: 'local' for FAISS, 'cloud' for Chroma Cloud
DATABASE_TYPE=local

# Local Database Configuration (FAISS)
CHROMA_DB_PATH=./chroma_db_staging
COLLECTION_NAME=web_content_staging

# =============================================================================
# CHAT BEHAVIOR CONFIGURATION
# =============================================================================

# Chat Behavior: 'knowledge_base' or 'pre_trained'
CHAT_BEHAVIOR=knowledge_base

# =============================================================================
# ANSWER STORAGE CONFIGURATION
# =============================================================================

# Answer Storage Type: 'sqlite', 'mysql', or 'mssql'
ANSWER_STORAGE_TYPE=postgresql

# =============================================================================
# OPENAI CONFIGURATION
# =============================================================================

# OpenAI API Key (staging key)
OPENAI_API_KEY=your_staging_openai_api_key

# OpenAI Models
OPENAI_EMBEDDING_MODEL=text-embedding-ada-002
LLM_MODEL=gpt-3.5-turbo
LLM_TEMPERATURE=0.1
LLM_MAX_TOKENS=1500

# =============================================================================
# EMBEDDING CONFIGURATION
# =============================================================================

# Local embedding model (used when OpenAI is not available)
EMBEDDING_MODEL=all-MiniLM-L6-v2
EMBEDDING_BATCH_SIZE=32

# =============================================================================
# CRAWLING CONFIGURATION
# =============================================================================

# Crawling settings (staging optimized)
MAX_PAGES_TO_CRAWL=100
CRAWL_DEPTH=3
CRAWL_DELAY=1.5
MAX_CONCURRENT_REQUESTS=5
USER_AGENT=WebChatBot-Staging/2.0

# Content filtering
MIN_CONTENT_LENGTH=100
MAX_CONTENT_LENGTH=10000
CONTENT_QUALITY_THRESHOLD=0.5

# =============================================================================
# CHAT CONFIGURATION
# =============================================================================

# Similarity search settings
SIMILARITY_THRESHOLD=0.3
MAX_CONTEXT_LENGTH=4000
TOP_K_RESULTS=5

# =============================================================================
# SCHEDULING CONFIGURATION
# =============================================================================

# Enable/disable scheduled crawling
SCHEDULE_CRAWL=false
CRAWL_SCHEDULE=0 2 * * *  # Daily at 2 AM (cron format)

# =============================================================================
# AUTHENTICATION CONFIGURATION
# =============================================================================

# JWT Secret (staging key)
JWT_SECRET_KEY=staging_jwt_secret_key_change_in_production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_HOURS=12

# Default user credentials (staging)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=staging_admin_password
DEFAULT_USER_STATUS=active

# Auth mode: disabled in staging
ALLOW_ANY_USER=false

# =============================================================================
# POSTGRESQL CONFIGURATION
# =============================================================================

# PostgreSQL Configuration (staging database)
POSTGRESQL_CONNECTION_URI=postgresql://username:password@staging-db-host:5432/jrc_chatbot_assistant_staging
POSTGRESQL_DATABASE_NAME=jrc_chatbot_assistant_staging
POSTGRESQL_CHAT_INQUIRY_TABLE=chat_inquiry_information

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Server settings
HOST=0.0.0.0
PORT=8000
DEBUG=false

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================

# Rate limiting settings (moderate for staging)
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=200
RATE_LIMIT_PERIOD=3600

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# =============================================================================
# POSTGRESQL CONFIGURATION
# =============================================================================

# PostgreSQL Configuration (staging database)
POSTGRESQL_CONNECTION_URI=postgresql://username:password@staging-db-host:5432/jrc_chatbot_assistant_staging
POSTGRESQL_DATABASE_NAME=jrc_chatbot_assistant_staging
POSTGRESQL_CHAT_INQUIRY_TABLE=chat_inquiry_information
